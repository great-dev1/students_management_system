<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
  $.ajax({
    type: "GET",
    url: "https://dhnxmejutdlykjkwxrdt.supabase.co/functions/v1/students",
    headers: {
      "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRobnhtZWp1dGRseWtqa3d4cmR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjE0MDYzOTQsImV4cCI6MjAzNjk4MjM5NH0.RxTOPVzqlJNDdM1N860WXixk2RufIxodOSRqavyt7dU",
    },
    success: function (data) {
      let elements = '<table class="students_table"><tr><th>First Name</th><th>Last Name</th><th>Age</th><th>Email</th></tr>'
      data.map(student => {
        elements += '<tr><td>' + student.first_name + '</td><td>' + student.last_name + '</td><td>' + student.age + '</td><td>' + student.email + '</td></tr>'
      })
      elements += '</table>'
      $(".students_list").append(elements)
    }
  });
</script>
<style>
  .students_table {
    font-family: Arial, Helvetica, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  .students_table td,
  .students_table th {
    border: 1px solid #ddd;
    padding: 8px;
  }

  .students_table tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  .students_table tr:hover {
    background-color: #ddd;
  }

  .students_table th {
    padding-top: 12px;
    padding-bottom: 12px;
    text-align: left;
    background-color: #04AA6D;
    color: white;
  }
</style>